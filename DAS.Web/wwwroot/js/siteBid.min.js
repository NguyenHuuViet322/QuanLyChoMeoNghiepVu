var mainBid={AdapterMobile:function(n){jQuery.ajax({type:"POST","async":!0,data:{isMobile:n},url:"/Account/SetCookieMobile"})},SetStgMobile:function(n){return localStorage.setItem("isMobile",n),localStorage.getItem("isMobile")},TraCuuThongTinModalTree:function(){const n=$(".modal-searchInfoDHDT");if(n.length!==0){const u=n.find(".modal-body__control-single"),f=n.find(".modal-body__control-double"),i=n.find(".modal-body__company-check-list"),e=n.find(".btn-company-save"),o=n.find(".btn-company-delete"),t=$(".company-bid-list");let s=n.find('.form-check-input[type="checkbox"]');s.on("change",function(n){const t=n.currentTarget;$(t).is(":checked")?$(t).closest(".form-check-cs").addClass("form-check--bg"):($(t).closest(".form-check-cs").removeClass("form-check--bg"),$(t).removeClass("is-active"))});function r(t){const o=$(t.currentTarget),u=o.data("click-status"),r=n.find(".form-check-input:checked"),s=n.find(".form-check-input"),h=r.next();let f="";i.html("");r.addClass("is-active");u==="double"&&h.each(function(n,t){$(t).closest("ul").closest("li").length!==0&&$(t).closest(".form-check-cs").next().find("ul").length!==0&&$(t).closest("ul").closest("li").find(".form-check-input:not(:checked)").addClass("is-active")});u==="single"&&(s.removeClass("is-active"),r.addClass("is-active"));$(".is-active").next().each(function(n,t){f+=`<div class="modal-body__company-check-item d-flex mb-5-px" data-company = ${$(t).data("check")}>
                                                <p class="modal-body__company-check-name mb-0">
                                                    ${t.innerHTML}
                                                </p>
                                                <div class="modal-body__company-icon-exit ml-5-px d-flex align-items-center justify-content-center">
                                                    <span class="icon-exit mr-0">
                                                    </span>
                                                </div>
                                            </div>`});i.append(f);const e=n.find(".modal-body__company-icon-exit");if(e.length!==0)e.on("click",function(){const i=$(this),t=i.closest(".modal-body__company-check-item"),r=t.data("company"),u=n.find(`.form-check-label[data-check = '${r}']`).prev().prop("checked",!1);u.change();t.remove()})}u.on("click",r);f.on("click",r);o.on("click",function(){const r=n.find(".form-check-input");r.prop("checked",!1);r.change();i.children().length!==0&&i.children().remove();t.children().length!==0&&(t.children().remove(),t.css({padding:0}))});e.on("click",function(){const n=$(".modal-body__company-check-item");let i="";if(n.length!==0){t.html("");t.css({padding:0});n.each(function(n,t){i+=`<li class="col-auto m-w-259 company-bid-item" data-company-out=${$(t).data("company")}>
                            <div class=" d-flex align-items-center">
                                <span class="icon-building"></span>
                                <p class="company-bid-name mb-0 text-primary font-s-14 pl-10 pr-5">${t.innerText}</p>
                                <span class="company-icon-exit w-h-18 d-flex justify-content-center align-items-center">
                                    <span class="icon-exit mr-0"></span>
                                </span>
                            </div>
                        </li>`});t.append(i);t.css({padding:"10px 0 10px 30px"});const r=$(".company-icon-exit");r.on("click",function(){const r=$(this),n=r.closest(".company-bid-item"),i=n.data("company-out"),u=$(`.modal-body__company-check-item[data-company=${i}]`),f=$(`.form-check-label[data-check = '${i}']`).prev().prop("checked",!1);f.change();u.remove();n.remove();$(".modal-body__company-check-item").length===0&&t.css({padding:0})})}})}}};jQuery(function(){function l(){const n=$(".boxtop-cs-fix-row");if(n.length!==0){const t=$(".boxtop-cs-fix");let i=t.outerHeight();n.css("margin-top",`${i}px`)}}$(".nav-link").on("click",function(){$(this).find("i.bid-menu-plus.jsIconDown").toggleClass("active-menu")});const s=$(".nav-pills > .nav-item");s.length!==0&&s.each(function(n,t){let i=`nav-lv-${n}`;const r=$(t).find(".nav-treeview");r.each(function(n,t){let r=10*n+"px";$(t).css("padding-left",r);$(t).addClass(i)})});$(".select2").each(function(){var n=$(document.body);$(this).parents(".select2-container").length!==0&&(n=$(this).parents(".select2-container"));$(this).select2({dropdownParent:n,minimumResultsForSearch:10})});$(".select2bs4").select2({theme:"bootstrap4"});$("#reservation").daterangepicker({locale:{format:"DD/MM/yyyy",applyLabel:"Chọn",cancelLabel:"Hủy"}});const e=$(".select2-cs");if(e.length>0){e.select2({closeOnSelect:!1});e.on("select2:open",function(n){n.preventDefault();n.stopPropagation();$(".btn.btn-sm.dropdown-toggle").dropdown("dispose")});e.on("select2:close",function(n){n.preventDefault();n.stopPropagation();$(".btn.btn-sm.dropdown-toggle").dropdown("update")})}const t=$(".select2-cs-v2");if(t.length!==0){function i(n){if(!n.id)return n.text;let t=0;n.element!==undefined&&(t=n.element.className,t.trim()!==""&&(t=parseInt(t.match(/\d+/)[0])-1));return $(`<span class = "select2Nested" data-level = ${t}>${n.text}</span>`)}t.select2({closeOnSelect:!1,templateResult:i,templateSelection:i});function n(n){const r=t.next().width(),u=(320-parseInt(r))/2,i=n.closest(".select2-dropdown"),f=n.closest(".select2-results");i.find(".div-pseudo").length==0&&f.before('<div class="div-pseudo"><\/div>');i.css({width:"320px",transform:`translateX(${-u}px)`,border:"none","border-radius":"4px","margin-top":"10px","box-shadow":"0 1px 2px 1px var(--color-gray-ccc)"})}t.on("select2:open",function(){setTimeout(function(){const t=$(".select2Nested");t.each(function(n,t){const i=$(t);let r=i.data("level");const u=i.closest(".select2-results__option");let f=16*parseInt(r)+12;u.css({"padding-left":`${f}px`})});n(t)},0)});t.on("select2:select",function(){let t=$(".select2Nested");n(t)});t.on("select2:unselect",function(){let t=$(".select2Nested");n(t)})}let y=$(".container-fluid div.d-flex.align-items-center.justify-content-between");y.each(function(){let n=$(this).find(".is-title-moi-thau").width(),t=$(this).find("form, .form-inline").width();$(this).find(".line-dot").css({width:$(this).width()-(n?n:0)-(t?t+45:0)+"px"})});$('button[type="reset"]').on("click",function(){let n=$(this).parents("form:eq(0)");n.find("select.select2").val(null).trigger("change");n.find(".date_input").datetimepicker("clear");setTimeout(function(){n.find('button[type="submit"]:eq(0)').trigger("click")},1)});$("#nav-left-menu-bid").find('a[data-menu-active="active"]').addClass("active").parents("li").addClass("menu-open");mainBid.TraCuuThongTinModalTree();const p=$(".div-table-cus-da");if(p.length!==0){let n=$('.form-check-input[type="checkbox"]');if(n.length>0)n.on("change",function(n){const t=n.currentTarget;$(t).closest(".form-check-cs").toggleClass("form-check--bg")})}const h=$(".js-format-money");if(h.length!==0){function n(n){return n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function t(t){const r=t.currentTarget;let i=$(r).val();i=i.replaceAll(",","");console.log(i);let u=n(i);$(r).val(u)}h.on("keyup change",t)}const r=$(".dropdown-chuanhoa");if(r.length!==0){const n=r.find(".dropdown-item"),t=r.find(".dropdown-chuanhoa__text");n.on("click",function(n){n.preventDefault();n.stopPropagation();const i=$(n.currentTarget),u=i.data("index");if(console.log(u),i.toggleClass("active"),i.hasClass("active")){let n=`<span class="item-choosen" data-index-sp = "${u}">${i.text()}</span>`;t.append(n)}else $(`span[data-index-sp = "${u}"]`).remove();let f=!0;const o=r.find(".dropdown-item.active");f=o.length!==0?!0:!1;let e=r.find(".choosen-init");f?e.addClass("hide-text"):e.removeClass("hide-text")})}$(".is-info-home").length>0&&$(".chart-block.chart-bar").hide();const n=$(".main-sidebar");if(n.length!==0){const t=n.find("#nav-left-menu-bid"),r=$(".jsPushMenu"),i=$("body");n.on("mouseout",function(){n.removeClass("sidebar-focused")});function u(){if(n.width()>200){const n=t.find(".nav-item.menu-open");n.length!==0&&n.each(function(n,t){$(t).find("ul.nav.nav-treeview").addClass("is-height-0")})}else{const n=t.find(".nav-item.menu-open");n.length!==0&&n.each(function(n,t){$(t).find("ul.nav.nav-treeview").removeClass("is-height-0")})}}n.on("mouseleave",function(){if(i.hasClass("sidebar-collapse")){const n=t.find(".nav-item.menu-open");n.length!==0&&n.each(function(n,t){$(t).find("ul.nav.nav-treeview").addClass("is-height-0")})}});n.on("mouseenter",function(){if(i.hasClass("sidebar-collapse")){const n=t.find(".nav-item.menu-open");n.length!==0&&n.each(function(n,t){$(t).find("ul.nav.nav-treeview").removeClass("is-height-0")})}});r.on("click",function(){u();const n=$(window).outerWidth();n<1366&&i.find("ul.nav.nav-treeview").removeClass("is-height-0")})}const o=$("body");if(o.length!==0){function n(){const n=$(window).outerWidth();n<1366?o.hasClass("sidebar-collapse")||o.addClass("sidebar-collapse"):o.removeClass("sidebar-collapse")}n();$(window).on("resize",function(){n()})}const c=$(".jsDateAdv");if(c.length!==0)c.on("change change.datetimepicker",function(){const n=$(this).find(".datetimepicker-input").data("target"),t=$(this).find(".datetimepicker-input").val();let i=n.slice(0,n.length-4);const r=$(`input[data-target = "${i}"]`);r.val(t)});window.CommonJs.InitSelect2SearchCs();l();$(window).on("resize",function(){l()});const u=$(".search-box__expand");if(u.length!==0){const n=u.find(".btn-reset-search-new");n.on("click",function(n){n.preventDefault();const i=u.find('input[type="text"]'),r=u.find(".js-format-money"),f=$("input.datetimepicker-input"),e=u.find(".select2");if(e.each(function(n,t){$(t).val(null).trigger("change")}),i.val(""),r.val(""),$(window).width()<=1366){var t=moment(),o=moment(t).subtract(1,"years").format("DD/MM/YYYY");f.each(function(n,i){n%2==0?$(i).val(o):$(i).val(t.format("DD/MM/YYYY"))})}})}const w=$(".btn-chart__box");if(w.length!==0)$(".jsHideChart").on("click",function(){const n=$(this).data("target");$(`${n}`).toggleClass("hideChart");$(`${n}`).slideToggle("slow")});const a=$(window).width();let i=a<768||a===812,f=localStorage.getItem("isMobile");if(f===null&&(localStorage.setItem("isMobile",i),f=mainBid.SetStgMobile(i)),mainBid.AdapterMobile(f),$(window).resize(function(){i=$(window).width()<768||$(window).width()===812;localStorage.setItem("isMobile",i);f=mainBid.SetStgMobile(i);mainBid.AdapterMobile(f);setTimeout(function(){window.location.reload()},1e3)}),i){$("#is-search").on("click",function(){$(".navbar-search").toggleClass("active")});if($(".container").hasClass("has-menu-left")){$(".menu-right").append('<div class="btn-menu-left"><i class="fas fa-chevron-left"><\/i><\/div>');$(".btn-menu-left").on("click",function(){$(this).toggleClass("active");$(".menu-right").toggleClass("active");$("html").toggleClass("overflow-hidden")})}}const v=$(".jsDropdownMenuFix");if(v.length!==0)v.on("click",function(n){n.stopPropagation()})});